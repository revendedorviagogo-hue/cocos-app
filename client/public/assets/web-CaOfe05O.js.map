{"version":3,"file":"web-CaOfe05O.js","sources":["../../node_modules/@capacitor-community/facebook-login/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class FacebookLoginWeb extends WebPlugin {\n    async initialize(options) {\n        const defaultOptions = { version: 'v17.0' };\n        await this.loadScript(options.locale);\n        return FB.init(Object.assign(Object.assign({}, defaultOptions), options));\n    }\n    loadScript(locale) {\n        if (typeof document === 'undefined') {\n            return Promise.reject('document global not found');\n        }\n        const scriptId = 'fb';\n        const scriptEl = document.getElementById(scriptId);\n        if (scriptEl) {\n            // already loaded\n            return Promise.resolve();\n        }\n        const head = document.getElementsByTagName('head')[0];\n        const script = document.createElement('script');\n        return new Promise(resolve => {\n            script.onload = () => resolve();\n            script.defer = true;\n            script.async = true;\n            script.id = scriptId;\n            script.src = `https://connect.facebook.net/${locale !== null && locale !== void 0 ? locale : 'en_US'}/sdk.js`;\n            head.appendChild(script);\n        });\n    }\n    async login(options) {\n        return new Promise((resolve, reject) => {\n            FB.login(response => {\n                if (response.status === 'connected') {\n                    resolve({\n                        accessToken: {\n                            token: response.authResponse.accessToken,\n                        },\n                    });\n                }\n                else {\n                    reject({\n                        accessToken: {\n                            token: null,\n                        },\n                    });\n                }\n            }, { scope: options.permissions.join(',') });\n        });\n    }\n    async logout() {\n        return new Promise(resolve => FB.logout(() => resolve()));\n    }\n    async reauthorize() {\n        return new Promise(resolve => FB.reauthorize(it => resolve(it)));\n    }\n    async getCurrentAccessToken() {\n        return new Promise((resolve, reject) => {\n            FB.getLoginStatus(response => {\n                if (response.status === 'connected') {\n                    const result = {\n                        accessToken: {\n                            applicationId: undefined,\n                            declinedPermissions: [],\n                            expires: undefined,\n                            isExpired: undefined,\n                            lastRefresh: undefined,\n                            permissions: [],\n                            token: response.authResponse.accessToken,\n                            userId: response.authResponse.userID,\n                        },\n                    };\n                    resolve(result);\n                }\n                else {\n                    reject({\n                        accessToken: {\n                            token: null,\n                        },\n                    });\n                }\n            });\n        });\n    }\n    async getProfile(options) {\n        const fields = options.fields.join(',');\n        return new Promise((resolve, reject) => {\n            FB.api('/me', { fields }, response => {\n                if (response.error) {\n                    reject(response.error.message);\n                    return;\n                }\n                resolve(response);\n            });\n        });\n    }\n    async logEvent() {\n        return Promise.resolve();\n    }\n    async setAutoLogAppEventsEnabled() {\n        return Promise.resolve();\n    }\n    async setAdvertiserTrackingEnabled() {\n        return Promise.resolve();\n    }\n    async setAdvertiserIDCollectionEnabled() {\n        return Promise.resolve();\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["FacebookLoginWeb","WebPlugin","options","defaultOptions","locale","scriptId","head","script","resolve","reject","response","it","result","fields"],"mappings":"+VACO,MAAMA,UAAyBC,CAAU,CAC5C,MAAM,WAAWC,EAAS,CACtB,MAAMC,EAAiB,CAAE,QAAS,OAAO,EACzC,aAAM,KAAK,WAAWD,EAAQ,MAAM,EAC7B,GAAG,KAAK,OAAO,OAAO,OAAO,OAAO,GAAIC,CAAc,EAAGD,CAAO,CAAC,CAChF,CACI,WAAWE,EAAQ,CACf,GAAI,OAAO,SAAa,IACpB,OAAO,QAAQ,OAAO,2BAA2B,EAErD,MAAMC,EAAW,KAEjB,GADiB,SAAS,eAAeA,CAAQ,EAG7C,OAAO,QAAQ,QAAO,EAE1B,MAAMC,EAAO,SAAS,qBAAqB,MAAM,EAAE,CAAC,EAC9CC,EAAS,SAAS,cAAc,QAAQ,EAC9C,OAAO,IAAI,QAAQC,GAAW,CAC1BD,EAAO,OAAS,IAAMC,EAAO,EAC7BD,EAAO,MAAQ,GACfA,EAAO,MAAQ,GACfA,EAAO,GAAKF,EACZE,EAAO,IAAM,gCAAgCH,GAAgD,OAAO,UACpGE,EAAK,YAAYC,CAAM,CACnC,CAAS,CACT,CACI,MAAM,MAAML,EAAS,CACjB,OAAO,IAAI,QAAQ,CAACM,EAASC,IAAW,CACpC,GAAG,MAAMC,GAAY,CACbA,EAAS,SAAW,YACpBF,EAAQ,CACJ,YAAa,CACT,MAAOE,EAAS,aAAa,WACzD,CACA,CAAqB,EAGDD,EAAO,CACH,YAAa,CACT,MAAO,IACnC,CACA,CAAqB,CAErB,EAAe,CAAE,MAAOP,EAAQ,YAAY,KAAK,GAAG,EAAG,CACvD,CAAS,CACT,CACI,MAAM,QAAS,CACX,OAAO,IAAI,QAAQM,GAAW,GAAG,OAAO,IAAMA,EAAO,CAAE,CAAC,CAChE,CACI,MAAM,aAAc,CAChB,OAAO,IAAI,QAAQA,GAAW,GAAG,YAAYG,GAAMH,EAAQG,CAAE,CAAC,CAAC,CACvE,CACI,MAAM,uBAAwB,CAC1B,OAAO,IAAI,QAAQ,CAACH,EAASC,IAAW,CACpC,GAAG,eAAeC,GAAY,CAC1B,GAAIA,EAAS,SAAW,YAAa,CACjC,MAAME,EAAS,CACX,YAAa,CACT,cAAe,OACf,oBAAqB,CAAA,EACrB,QAAS,OACT,UAAW,OACX,YAAa,OACb,YAAa,CAAA,EACb,MAAOF,EAAS,aAAa,YAC7B,OAAQA,EAAS,aAAa,MAC1D,CACA,EACoBF,EAAQI,CAAM,CAClC,MAEoBH,EAAO,CACH,YAAa,CACT,MAAO,IACnC,CACA,CAAqB,CAErB,CAAa,CACb,CAAS,CACT,CACI,MAAM,WAAWP,EAAS,CACtB,MAAMW,EAASX,EAAQ,OAAO,KAAK,GAAG,EACtC,OAAO,IAAI,QAAQ,CAACM,EAASC,IAAW,CACpC,GAAG,IAAI,MAAO,CAAE,OAAAI,CAAM,EAAIH,GAAY,CAClC,GAAIA,EAAS,MAAO,CAChBD,EAAOC,EAAS,MAAM,OAAO,EAC7B,MACpB,CACgBF,EAAQE,CAAQ,CAChC,CAAa,CACb,CAAS,CACT,CACI,MAAM,UAAW,CACb,OAAO,QAAQ,QAAO,CAC9B,CACI,MAAM,4BAA6B,CAC/B,OAAO,QAAQ,QAAO,CAC9B,CACI,MAAM,8BAA+B,CACjC,OAAO,QAAQ,QAAO,CAC9B,CACI,MAAM,kCAAmC,CACrC,OAAO,QAAQ,QAAO,CAC9B,CACA","x_google_ignoreList":[0]}