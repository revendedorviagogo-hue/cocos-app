import{W as c}from"./index-Dh3SBaGN.js";(function(){try{var i=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[e]="fae96ea7-9a12-4249-9b74-96bfbbf6c1ef",i._sentryDebugIdIdentifier="sentry-dbid-fae96ea7-9a12-4249-9b74-96bfbbf6c1ef")}catch{}})();class p extends c{constructor(){super(...arguments),this.group="CapacitorStorage"}async configure({group:e}){typeof e=="string"&&(this.group=e)}async get(e){return{value:this.impl.getItem(this.applyPrefix(e.key))}}async set(e){this.impl.setItem(this.applyPrefix(e.key),e.value)}async remove(e){this.impl.removeItem(this.applyPrefix(e.key))}async keys(){return{keys:this.rawKeys().map(t=>t.substring(this.prefix.length))}}async clear(){for(const e of this.rawKeys())this.impl.removeItem(e)}async migrate(){var e;const t=[],s=[],a="_cap_",o=Object.keys(this.impl).filter(r=>r.indexOf(a)===0);for(const r of o){const n=r.substring(a.length),f=(e=this.impl.getItem(r))!==null&&e!==void 0?e:"",{value:l}=await this.get({key:n});typeof l=="string"?s.push(n):(await this.set({key:n,value:f}),t.push(n))}return{migrated:t,existing:s}}async removeOld(){const e="_cap_",t=Object.keys(this.impl).filter(s=>s.indexOf(e)===0);for(const s of t)this.impl.removeItem(s)}get impl(){return window.localStorage}get prefix(){return this.group==="NativeStorage"?"":`${this.group}.`}rawKeys(){return Object.keys(this.impl).filter(e=>e.indexOf(this.prefix)===0)}applyPrefix(e){return this.prefix+e}}export{p as PreferencesWeb};
//# sourceMappingURL=web-DX77GsCh.js.map
